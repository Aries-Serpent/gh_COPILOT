<!doctype html>
<html>
<head>
    <title>Compliance Metrics</title>
</head>
<body>
<h1>Compliance Metrics</h1>
<p><strong>Compliance Score:</strong> {{ metrics.compliance_score | default(0) }}</p>
<p><strong>Composite Score:</strong> {{ metrics.composite_score | default(0) }}</p>
<p><strong>Lint Issues:</strong> {{ metrics.ruff_issues | default(0) }}</p>
<p><strong>Tests Passed:</strong> {{ metrics.tests_passed | default(0) }}</p>
<p><strong>Tests Failed:</strong> {{ metrics.tests_failed | default(0) }}</p>
<p><strong>Lint Score:</strong> {{ metrics.lint_score | default(0) }}</p>
<p><strong>Test Score:</strong> {{ metrics.test_score | default(0) }}</p>
<p><strong>Placeholder Score:</strong> {{ metrics.placeholder_score | default(0) }}</p>
<p><strong>Open Placeholders:</strong> {{ metrics.open_placeholders | default(0) }}</p>
<p><strong>Resolved Placeholders:</strong> {{ metrics.resolved_placeholders | default(0) }}</p>
<p><strong>Remediation Progress:</strong> {{ ((metrics.progress or 0) * 100) | round(1) }}%</p>

<h2>Placeholder Trend</h2>
<ul>
{% for entry in metrics.placeholder_trend or [] %}
    <li>{{ entry.timestamp }} - open: {{ entry.open }}, resolved: {{ entry.resolved }}</li>
{% endfor %}
</ul>

<h2>Correction Logs</h2>
<ul>
{% for entry in metrics.correction_logs or [] %}
    <li>
        {{ entry.timestamp }} - {{ entry.file_path }}<br>
        Rationale: {{ entry.rationale }}<br>
        Score: {{ entry.compliance_score }}
    </li>
{% endfor %}
</ul>
{% include 'footer.html' %}

</body>
</html>

